#include "engine.h"

//calculate bits configurations for any set of 3 colours for each plane
// aaab bccc

void GenerateColorBytesDither3x2()
{
	UWORD address;
	UBYTE a1,a2,b1,b2,c1,c2;
	for(int a=0;a<COLORS;a++)
	for(int b=0;b<COLORS;b++)
	for(int c=0;c<COLORS;c++)
	{
		address = (a<<10) + (b<<5) + c;

		if(a % 2)
		{
			a1 = a/2;
			a2 = a/2;
		}
		else
		{
			a1 = a/2;
			a2 = a/2-1;
		}
		if(b % 2)
		{
			b1 = b/2;
			b2 = b/2;
		}
		else
		{
			b1 = b/2;
			b2 = b/2-1;
		}
		if(c % 2)
		{
			c1 = c/2;
			c2 = c/2;
		}
		else
		{
			c1 = c/2;
			c2 = c/2-1;
		}
		engine.renderer.ditherTable1[address]=
		((a1>>0) & 1) *0b10000000+
		((a2>>0) & 1) *0b01000000+
		((a1>>0) & 1) *0b00100000+
		((b2>>0) & 1) *0b00010000+
		((b1>>0) & 1) *0b00001000+
		((c2>>0) & 1) *0b00000100+
		((c1>>0) & 1) *0b00000010+
		((c2>>0) & 1) *0b00000001;

		engine.renderer.ditherTable2[address]=
		((a1>>1) & 1) *0b10000000+
		((a2>>1) & 1) *0b01000000+
		((a1>>1) & 1) *0b00100000+
		((b2>>1) & 1) *0b00010000+
		((b1>>1) & 1) *0b00001000+
		((c2>>1) & 1) *0b00000100+
		((c1>>1) & 1) *0b00000010+
		((c2>>1) & 1) *0b00000001;

		engine.renderer.ditherTable3[address]=
		((a1>>2) & 1) *0b10000000+
		((a2>>2) & 1) *0b01000000+
		((a1>>2) & 1) *0b00100000+
		((b2>>2) & 1) *0b00010000+
		((b1>>2) & 1) *0b00001000+
		((c2>>2) & 1) *0b00000100+
		((c1>>2) & 1) *0b00000010+
		((c2>>2) & 1) *0b00000001;

		engine.renderer.ditherTable4[address]=
		((a1>>3) & 1) *0b10000000+
		((a2>>3) & 1) *0b01000000+
		((a1>>3) & 1) *0b00100000+
		((b2>>3) & 1) *0b00010000+
		((b1>>3) & 1) *0b00001000+
		((c2>>3) & 1) *0b00000100+
		((c1>>3) & 1) *0b00000010+
		((c2>>3) & 1) *0b00000001;


	}
}
void GenerateColorBytesDither4x4()
{
	UWORD address;
	UBYTE a1,a2,b1,b2,c1,c2,d1,d2;
	UBYTE b,c;
	for(int a=0;a<COLORS;a++)
	for(int d=0;d<COLORS;d++)
	{
		address = (a<<5) + d;

		if(a % 2)
		{
			a1 = a/2;
			a2 = a/2;
		}
		else
		{
			a1 = a/2;
			a2 = a/2-1;
		}
		if(d % 2)
		{
			d1 = d/2;
			d2 = d/2;
		}
		else
		{
			d1 = d/2;
			d2 = d/2-1;
		}
		b = (a*2+d)/3;
		if(b % 2)
		{
			b1 = b/2;
			b2 = b/2;
		}
		else
		{
			b1 = b/2;
			b2 = b/2-1;
		}
		c = (a+d*2)/3;
		if(c % 2)
		{
			c1 = c/2;
			c2 = c/2;
		}
		else
		{
			c1 = c/2;
			c2 = c/2-1;
		}

		engine.renderer.ditherTable1[address]=
		((a1>>0) & 1) *0b10000000+
		((a2>>0) & 1) *0b01000000+
		((b1>>0) & 1) *0b00100000+
		((b2>>0) & 1) *0b00010000+
		((c1>>0) & 1) *0b00001000+
		((c2>>0) & 1) *0b00000100+
		((d1>>0) & 1) *0b00000010+
		((d2>>0) & 1) *0b00000001;

		engine.renderer.ditherTable2[address]=
		((a1>>1) & 1) *0b10000000+
		((a2>>1) & 1) *0b01000000+
		((b1>>1) & 1) *0b00100000+
		((b2>>1) & 1) *0b00010000+
		((c1>>1) & 1) *0b00001000+
		((c2>>1) & 1) *0b00000100+
		((d1>>1) & 1) *0b00000010+
		((d2>>1) & 1) *0b00000001;

		engine.renderer.ditherTable3[address]=
		((a1>>2) & 1) *0b10000000+
		((a2>>2) & 1) *0b01000000+
		((b1>>2) & 1) *0b00100000+
		((b2>>2) & 1) *0b00010000+
		((c1>>2) & 1) *0b00001000+
		((c2>>2) & 1) *0b00000100+
		((d1>>2) & 1) *0b00000010+
		((d2>>2) & 1) *0b00000001;

		engine.renderer.ditherTable4[address]=
		((a1>>3) & 1) *0b10000000+
		((a2>>3) & 1) *0b01000000+
		((b1>>3) & 1) *0b00100000+
		((b2>>3) & 1) *0b00010000+
		((c1>>3) & 1) *0b00001000+
		((c2>>3) & 1) *0b00000100+
		((d1>>3) & 1) *0b00000010+
		((d2>>3) & 1) *0b00000001;


	}
}
void GenerateColorBytesNoDither4x4()
{
	UWORD address;
	UBYTE a1,a2,b1,b2,c1,c2,d1,d2;
	UBYTE b,c;
	for(int a=0;a<COLORS;a++)
	for(int d=0;d<COLORS;d++)
	{
		address = (a<<5) + d;

		if(a % 2)
		{
			a1 = a/2;
			a2 = a/2;
		}
		else
		{
			a1 = a/2;
			a2 = a/2-1;
		}
		if(d % 2)
		{
			d1 = d/2;
			d2 = d/2;
		}
		else
		{
			d1 = d/2;
			d2 = d/2-1;
		}
		b = (a*2+d)/3;
		if(b % 2)
		{
			b1 = b/2;
			b2 = b/2;
		}
		else
		{
			b1 = b/2;
			b2 = b/2-1;
		}
		c = (a+d*2)/3;
		if(c % 2)
		{
			c1 = c/2;
			c2 = c/2;
		}
		else
		{
			c1 = c/2;
			c2 = c/2-1;
		}

		engine.renderer.ditherTable1[address]=
		((a1>>0) & 1) *0b10000000+
		((a2>>0) & 1) *0b01000000+
		((a1>>0) & 1) *0b00100000+
		((a2>>0) & 1) *0b00010000+
		((d1>>0) & 1) *0b00001000+
		((d2>>0) & 1) *0b00000100+
		((d1>>0) & 1) *0b00000010+
		((d2>>0) & 1) *0b00000001;

		engine.renderer.ditherTable2[address]=
		((a1>>1) & 1) *0b10000000+
		((a2>>1) & 1) *0b01000000+
		((a1>>1) & 1) *0b00100000+
		((a2>>1) & 1) *0b00010000+
		((d1>>1) & 1) *0b00001000+
		((d2>>1) & 1) *0b00000100+
		((d1>>1) & 1) *0b00000010+
		((d2>>1) & 1) *0b00000001;

		engine.renderer.ditherTable3[address]=
		((a1>>2) & 1) *0b10000000+
		((a2>>2) & 1) *0b01000000+
		((a1>>2) & 1) *0b00100000+
		((a2>>2) & 1) *0b00010000+
		((d1>>2) & 1) *0b00001000+
		((d2>>2) & 1) *0b00000100+
		((d1>>2) & 1) *0b00000010+
		((d2>>2) & 1) *0b00000001;

		engine.renderer.ditherTable4[address]=
		((a1>>3) & 1) *0b10000000+
		((a2>>3) & 1) *0b01000000+
		((a1>>3) & 1) *0b00100000+
		((a2>>3) & 1) *0b00010000+
		((d1>>3) & 1) *0b00001000+
		((d2>>3) & 1) *0b00000100+
		((d1>>3) & 1) *0b00000010+
		((d2>>3) & 1) *0b00000001;

	}
}
/*
void GenerateColorBytesNoDither2x2()
{
	UWORD address;
	UBYTE a1,a2,b1,b2,b3,c1,c2,d1;


	for(UBYTE b=0;b<COLORS;b++)
	for(UBYTE c=0;c<COLORS;c++)
	for(UBYTE d=0;d<COLORS;d++)
	for(UBYTE a=0;a<COLORS;a++)
	{
		address = (a<<15) + (b<<10) + (c<<5) + d;

		if(a % 2)
		{
			b1 = a/2;
			b2 = (a+b)/4;
		}
		else
		{
			b1 = a/2-1;
			b2 = (a+b)/4;
		}
		if(b % 2)
		{
			a1 = b/2;
			a2 = (b+c/2)/3;
		}
		else
		{
			a1 = b/2-1;
			a2 = (b+c/2)/3;
		}
		if(c % 2)
		{
			b3 = (b/2+c)/3;
			c1 = c/2;
		}
		else
		{
			b3 = (b/2+c)/3;
			c1 = c/2-1;
		}
		if(d % 2)
		{
			c2 = (c+d)/4;
			d1 = d/2;
		}
		else
		{
			c2 = (c+d)/4;
			d1 = d/2-1;
		}


		engine.renderer.dither2x2P1Even[address]=
		((a1>>0) & 1) *0b10000000+
		((a2>>0) & 1) *0b01000000+
		((b1>>0) & 1) *0b00100000+
		((b2>>0) & 1) *0b00010000+
		((b3>>0) & 1) *0b00001000+
		((c1>>0) & 1) *0b00000100+
		((c2>>0) & 1) *0b00000010+
		((d1>>0) & 1) *0b00000001;

		engine.renderer.dither2x2P2Even[address]=
		((a1>>1) & 1) *0b10000000+
		((a2>>1) & 1) *0b01000000+
		((b1>>1) & 1) *0b00100000+
		((b2>>1) & 1) *0b00010000+
		((b3>>1) & 1) *0b00001000+
		((c1>>1) & 1) *0b00000100+
		((c2>>1) & 1) *0b00000010+
		((d1>>1) & 1) *0b00000001;

		engine.renderer.dither2x2P3Even[address]=
		((a1>>2) & 1) *0b10000000+
		((a2>>2) & 1) *0b01000000+
		((b1>>2) & 1) *0b00100000+
		((b2>>2) & 1) *0b00010000+
		((b3>>2) & 1) *0b00001000+
		((c1>>2) & 1) *0b00000100+
		((c2>>2) & 1) *0b00000010+
		((d1>>2) & 1) *0b00000001;

		engine.renderer.dither2x2P4Even[address]=
		((a1>>3) & 1) *0b10000000+
		((a2>>3) & 1) *0b01000000+
		((b1>>3) & 1) *0b00100000+
		((b2>>3) & 1) *0b00010000+
		((b3>>3) & 1) *0b00001000+
		((c1>>3) & 1) *0b00000100+
		((c2>>3) & 1) *0b00000010+
		((d1>>3) & 1) *0b00000001;

		engine.renderer.dither2x2P1Odd[address]=
		((a1>>0) & 1)		*0b01000000+
		((a2>>0) & 1)		*0b10000000+
		((b1>>0) & 1)		*0b00010000+
		((b2>>0) & 1)	*0b00100000+
		((b3>>0) & 1)	*0b00000100+
		((c1>>0) & 1)		*0b00001000+
		((c2>>0) & 1)		*0b00000001+
		((d1>>0) & 1)		*0b00000010;

		engine.renderer.dither2x2P2Odd[address]=
		((a1>>1) & 1)		*0b01000000+
		((a2>>1) & 1)		*0b10000000+
		((b1>>1) & 1)		*0b00010000+
		((b2>>1) & 1)	*0b00100000+
		((b3>>1) & 1)	*0b00000100+
		((c1>>1) & 1)		*0b00001000+
		((c2>>1) & 1)		*0b00000001+
		((d1>>1) & 1)		*0b00000010;

		engine.renderer.dither2x2P3Odd[address]=
		((a1>>2) & 1)		*0b01000000+
		((a2>>2) & 1)		*0b10000000+
		((b1>>2) & 1)		*0b00010000+
		((b2>>2) & 1)	*0b00100000+
		((b3>>2) & 1)	*0b00000100+
		((c1>>2) & 1)		*0b00001000+
		((c2>>2) & 1)		*0b00000001+
		((d1>>2) & 1)		*0b00000010;

		engine.renderer.dither2x2P4Odd[address]=
		((a1>>3) & 1)		*0b01000000+
		((a2>>3) & 1)		*0b10000000+
		((b1>>3) & 1)		*0b00010000+
		((b2>>3) & 1)	*0b00100000+
		((b3>>3) & 1)	*0b00000100+
		((c1>>3) & 1)		*0b00001000+
		((c2>>3) & 1)		*0b00000001+
		((d1>>3) & 1)		*0b00000010;

	}
}
*/
// void GenerateWordDither8x8()
// {
// 	UWORD address;
// 	UBYTE a1,a2,b1,b2;
// 	for(int a=0;a<COLORS;a++)
// 	for(int b=0;b<COLORS;b++)
// 	{
// 		address = (a<<5)+b;

// 		if(a % 2)
// 		{
// 			a1 = a/2;
// 			a2 = a/2;
// 		}
// 		else
// 		{
// 			a1 = a/2;
// 			a2 = a/2-1;
// 		}
// 		if(b % 2)
// 		{
// 			b1 = b/2;
// 			b2 = b/2;
// 		}
// 		else
// 		{
// 			b1 = b/2;
// 			b2 = b/2-1;
// 		}
// 		engine.renderer.dither8x8EvenP1[address]=
// 		((a1>>0) & 1) *0b1000000000000000+
// 		((a2>>0) & 1) *0b0100000000000000+
// 		((a1>>0) & 1) *0b0010000000000000+
// 		((a2>>0) & 1) *0b0001000000000000+
// 		((a1>>0) & 1) *0b0000100000000000+
// 		((a2>>0) & 1) *0b0000010000000000+
// 		((a1>>0) & 1) *0b0000001000000000+
// 		((a2>>0) & 1) *0b0000000100000000+
// 		((b1>>0) & 1) *0b10000000+
// 		((b2>>0) & 1) *0b01000000+
// 		((b1>>0) & 1) *0b00100000+
// 		((b2>>0) & 1) *0b00010000+
// 		((b1>>0) & 1) *0b00001000+
// 		((b2>>0) & 1) *0b00000100+
// 		((b1>>0) & 1) *0b00000010+
// 		((b2>>0) & 1) *0b00000001;

// 		engine.renderer.dither8x8EvenP2[address]=
// 		((a1>>1) & 1) *0b1000000000000000+
// 		((a2>>1) & 1) *0b0100000000000000+
// 		((a1>>1) & 1) *0b0010000000000000+
// 		((a2>>1) & 1) *0b0001000000000000+
// 		((a1>>1) & 1) *0b0000100000000000+
// 		((a2>>1) & 1) *0b0000010000000000+
// 		((a1>>1) & 1) *0b0000001000000000+
// 		((a2>>1) & 1) *0b0000000100000000+
// 		((b1>>1) & 1) *0b10000000+
// 		((b2>>1) & 1) *0b01000000+
// 		((b1>>1) & 1) *0b00100000+
// 		((b2>>1) & 1) *0b00010000+
// 		((b1>>1) & 1) *0b00001000+
// 		((b2>>1) & 1) *0b00000100+
// 		((b1>>1) & 1) *0b00000010+
// 		((b2>>1) & 1) *0b00000001;

// 		engine.renderer.dither8x8EvenP3[address]=
// 		((a1>>2) & 1) *0b1000000000000000+
// 		((a2>>2) & 1) *0b0100000000000000+
// 		((a1>>2) & 1) *0b0010000000000000+
// 		((a2>>2) & 1) *0b0001000000000000+
// 		((a1>>2) & 1) *0b0000100000000000+
// 		((a2>>2) & 1) *0b0000010000000000+
// 		((a1>>2) & 1) *0b0000001000000000+
// 		((a2>>2) & 1) *0b0000000100000000+
// 		((b1>>2) & 1) *0b10000000+
// 		((b2>>2) & 1) *0b01000000+
// 		((b1>>2) & 1) *0b00100000+
// 		((b2>>2) & 1) *0b00010000+
// 		((b1>>2) & 1) *0b00001000+
// 		((b2>>2) & 1) *0b00000100+
// 		((b1>>2) & 1) *0b00000010+
// 		((b2>>2) & 1) *0b00000001;

// 		engine.renderer.dither8x8EvenP4[address]=
// 		((a1>>3) & 1) *0b1000000000000000+
// 		((a2>>3) & 1) *0b0100000000000000+
// 		((a1>>3) & 1) *0b0010000000000000+
// 		((a2>>3) & 1) *0b0001000000000000+
// 		((a1>>3) & 1) *0b0000100000000000+
// 		((a2>>3) & 1) *0b0000010000000000+
// 		((a1>>3) & 1) *0b0000001000000000+
// 		((a2>>3) & 1) *0b0000000100000000+
// 		((b1>>3) & 1) *0b10000000+
// 		((b2>>3) & 1) *0b01000000+
// 		((b1>>3) & 1) *0b00100000+
// 		((b2>>3) & 1) *0b00010000+
// 		((b1>>3) & 1) *0b00001000+
// 		((b2>>3) & 1) *0b00000100+
// 		((b1>>3) & 1) *0b00000010+
// 		((b2>>3) & 1) *0b00000001;

		// engine.renderer.dither8x8OddP1[address]=
		// ((a2>>0) & 1) *0b1000000000000000+
		// ((a1>>0) & 1) *0b0100000000000000+
		// ((a2>>0) & 1) *0b0010000000000000+
		// ((a1>>0) & 1) *0b0001000000000000+
		// ((a2>>0) & 1) *0b0000100000000000+
		// ((a1>>0) & 1) *0b0000010000000000+
		// ((a2>>0) & 1) *0b0000001000000000+
		// ((a1>>0) & 1) *0b0000000100000000+
		// ((b2>>0) & 1) *0b10000000+
		// ((b1>>0) & 1) *0b01000000+
		// ((b2>>0) & 1) *0b00100000+
		// ((b1>>0) & 1) *0b00010000+
		// ((b2>>0) & 1) *0b00001000+
		// ((b1>>0) & 1) *0b00000100+
		// ((b2>>0) & 1) *0b00000010+
		// ((b1>>0) & 1) *0b00000001;

		// engine.renderer.dither8x8OddP2[address]=
		// ((a2>>1) & 1) *0b1000000000000000+
		// ((a1>>1) & 1) *0b0100000000000000+
		// ((a2>>1) & 1) *0b0010000000000000+
		// ((a1>>1) & 1) *0b0001000000000000+
		// ((a2>>1) & 1) *0b0000100000000000+
		// ((a1>>1) & 1) *0b0000010000000000+
		// ((a2>>1) & 1) *0b0000001000000000+
		// ((a1>>1) & 1) *0b0000000100000000+
		// ((b2>>1) & 1) *0b10000000+
		// ((b1>>1) & 1) *0b01000000+
		// ((b2>>1) & 1) *0b00100000+
		// ((b1>>1) & 1) *0b00010000+
		// ((b2>>1) & 1) *0b00001000+
		// ((b1>>1) & 1) *0b00000100+
		// ((b2>>1) & 1) *0b00000010+
		// ((b1>>1) & 1) *0b00000001;

		// engine.renderer.dither8x8OddP3[address]=
		// ((a2>>2) & 1) *0b1000000000000000+
		// ((a1>>2) & 1) *0b0100000000000000+
		// ((a2>>2) & 1) *0b0010000000000000+
		// ((a1>>2) & 1) *0b0001000000000000+
		// ((a2>>2) & 1) *0b0000100000000000+
		// ((a1>>2) & 1) *0b0000010000000000+
		// ((a2>>2) & 1) *0b0000001000000000+
		// ((a1>>2) & 1) *0b0000000100000000+
		// ((b2>>2) & 1) *0b10000000+
		// ((b1>>2) & 1) *0b01000000+
		// ((b2>>2) & 1) *0b00100000+
		// ((b1>>2) & 1) *0b00010000+
		// ((b2>>2) & 1) *0b00001000+
		// ((b1>>2) & 1) *0b00000100+
		// ((b2>>2) & 1) *0b00000010+
		// ((b1>>2) & 1) *0b00000001;

		// engine.renderer.dither8x8OddP4[address]=
		// ((a2>>3) & 1) *0b1000000000000000+
		// ((a1>>3) & 1) *0b0100000000000000+
		// ((a2>>3) & 1) *0b0010000000000000+
		// ((a1>>3) & 1) *0b0001000000000000+
		// ((a2>>3) & 1) *0b0000100000000000+
		// ((a1>>3) & 1) *0b0000010000000000+
		// ((a2>>3) & 1) *0b0000001000000000+
		// ((a1>>3) & 1) *0b0000000100000000+
		// ((b2>>3) & 1) *0b10000000+
		// ((b1>>3) & 1) *0b01000000+
		// ((b2>>3) & 1) *0b00100000+
		// ((b1>>3) & 1) *0b00010000+
		// ((b2>>3) & 1) *0b00001000+
		// ((b1>>3) & 1) *0b00000100+
		// ((b2>>3) & 1) *0b00000010+
		// ((b1>>3) & 1) *0b00000001;

// 	}
// }
/*
void GenerateColorBytes8x8()
{
	UWORD address;
	UBYTE b1,b2,b3,b4,b5,b6,b7,b8;
	for(int a=0;a<8;a++)
	for(int b=0;b<8;b++)
	for(int c=0;c<8;c++)
	for(int d=0;d<8;d++)
	for(int e=0;e<8;e++)
	{
		address = (e<<12) + (a<<9) + (b<<6) + (c<<3) + d;

		// ab
		// cd
		b1 = (a * (7-e) + c * e)/7;
		b8 = (b * (7-e) + d * e)/7;
		b2 = (b1*6 + b8*1)/7;
		b3 = (b1*5 + b8*2)/7;
		b4 = (b1*4 + b8*3)/7;
		b5 = (b1*3 + b8*4)/7;
		b6 = (b1*2 + b8*5)/7;
		b7 = (b1*1 + b8*6)/7;

		colorByteDither8x8P1[address]=
		((b1>>0) & 1) *0b10000000+
		((b2>>0) & 1) *0b01000000+
		((b3>>0) & 1) *0b00100000+
		((b4>>0) & 1) *0b00010000+
		((b5>>0) & 1) *0b00001000+
		((b6>>0) & 1) *0b00000100+
		((b7>>0) & 1) *0b00000010+
		((b8>>0) & 1) *0b00000001;

		colorByteDither8x8P2[address]=
		((b1>>1) & 1) *0b10000000+
		((b2>>1) & 1) *0b01000000+
		((b3>>1) & 1) *0b00100000+
		((b4>>1) & 1) *0b00010000+
		((b5>>1) & 1) *0b00001000+
		((b6>>1) & 1) *0b00000100+
		((b7>>1) & 1) *0b00000010+
		((b8>>1) & 1) *0b00000001;

		colorByteDither8x8P3[address]=
		((b1>>2) & 1) *0b10000000+
		((b2>>2) & 1) *0b01000000+
		((b3>>2) & 1) *0b00100000+
		((b4>>2) & 1) *0b00010000+
		((b5>>2) & 1) *0b00001000+
		((b6>>2) & 1) *0b00000100+
		((b7>>2) & 1) *0b00000010+
		((b8>>2) & 1) *0b00000001;

		colorByteDither8x8P4[address]=
		((b1>>3) & 1) *0b10000000+
		((b2>>3) & 1) *0b01000000+
		((b3>>3) & 1) *0b00100000+
		((b4>>3) & 1) *0b00010000+
		((b5>>3) & 1) *0b00001000+
		((b6>>3) & 1) *0b00000100+
		((b7>>3) & 1) *0b00000010+
		((b8>>3) & 1) *0b00000001;



	}
}
*/
